<!DOCTYPE html>
<html ng-app='admin'>
	<header>
		<title>Family Tree Admin Page</title>
		
		<!-- Bootstrap core CSS -->
    	<link href="../bootstrap/css/bootstrap.min.css" rel="stylesheet">
    	
    	<script src="../lib/jquery-2.1.3.js"></script>
		<script src="../bootstrap/js/bootstrap.min.js"></script>
		
		<script src="../lib/sha512.min.js"></script>
		
		<script src="../lib/angular.js"></script>		
		<script src="../config/config.js"></script>
		
		<script src="../js/authentication.js"></script>
		<script src="js/admin.js"></script>
	</header>
	<body ng-controller="AdminCtrl">
		<div ng-show="viewPage">
			<div>
				<span>
					New User Name: 
				</span>
				<span>
					<input type="text" size="15" ng-model="newUser.name" />
				</span>
			</div>
			<div>
				<span>
					Password: 
				</span>
				<span>
					<input type="text" size="15" ng-model="newUser.password" />
				</span>
			</div>
			<input type="button" value="Create User" ng-click="createUser()" />
		</div>
		
		<div ng-show="viewLogin">
			<div>
				<span>
					Admin Name: 
				</span>
				<span>
					<input type="text" size="15" ng-model="user.name" />
				</span>
			</div>
			<div>
				<span>
					Password: 
				</span>
				<span>
					<input type="password" size="15" ng-model="user.password" />
				</span>
			</div>
			<input type="button" value="Admin Login" ng-click="login()" />
		</div>
		
		<div id="sign-on-modal" class="modal fade">
			<div class="modal-dialog">
				<div class="modal-content">
					
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						<h4 class="modal-title">Family Tree Sign In</h4>
					</div>
					
					<div class="modal-body">
						<form class="form-horizontal">
							<div class="form-group">
								<label for="" class="col-sm-3 control-label">User Name</label>
								<div class="col-sm-9"><input type="text" id="sign-in-username" class="form-control" ng-model="user.name" /></div>
							</div>
							
							<div class="form-group">
								<label for="" class="col-sm-3 control-label">Password</label>
								<div class="col-sm-9"><input type="password" class="form-control"  ng-model="user.password" /></div>
							</div>
						</form>
						
						<div class="alert alert-danger" ng-show="failedLogin">
							<strong>Log in failed!</strong> Please try signing in again.
						</div>
						
					</div>
					
					
					<div class="modal-footer">
						<button type="button" class="btn btn-primary" ng-click="login()">Sign In</button>
					</div>
					
				</div>
			</div>
		</div>
		
		<div>
			{{message}}
		</div>
		
		<script>
			$(document).ready(function(){
				modalFocus('#sign-on-modal', '#sign-in-username');
				$("#sign-on-modal").modal('show');
				
			
				function modalFocus(modal, input) {
					$(modal).on('shown.bs.modal', function(){
						$(input).focus();
					});
				}
			});
		</script>
	</body>
</html>